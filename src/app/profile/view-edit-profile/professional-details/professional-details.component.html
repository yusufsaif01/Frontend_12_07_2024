<div class="wrapper">
  <div class="view-wrapper">
    <ng-container *ngIf="member_type === 'player'">
      <ng-container *ngIf="viewMode; else editMode">
        <div class="heading">
          <h2>Professional details</h2>
          <button (click)="toggleMode()">
            <mat-icon class="material-icons">create</mat-icon>
          </button>
        </div>

        <div class="second-section">
          <!-- row -->
          <div class="section">
            <h3 class="section-heading">
              Preferred playing position
            </h3>
            <div class="section-block">
              <div
                class="third"
                *ngFor="let data of professionalDetails.position; let i = index"
              >
                <p>
                  <span>{{ i + 1 }}.</span> {{ data.name | titlecase }}
                </p>
              </div>
            </div>
          </div>

          <div class="section">
            <h3 class="section-heading mb-0">
              Strong foot
            </h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>{{ professionalDetails?.strong_foot | titlecase }}</p>
                </div>
              </div>
            </div>
          </div>

          <div class="section mb-1">
            <h3 class="section-heading mb-0">
              Weak foot
            </h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <div class="stars">
                    <ng-container *ngFor="let number of [1, 2, 3, 4, 5]">
                      <ng-container
                        *ngIf="number <= professionalDetails?.weak_foot"
                      >
                        <mat-icon class="material-icons active">
                          star_border
                        </mat-icon>
                      </ng-container>
                      <ng-container
                        *ngIf="number > professionalDetails?.weak_foot"
                      >
                        <mat-icon class="material-icons ">
                          star_border
                        </mat-icon>
                      </ng-container>
                    </ng-container>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <h3 class="section-heading mb-0">
              Current state association
              {{
                professionalDetails?.association === 'Others' ? '(Other)' : ''
              }}
            </h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>
                    {{
                      (professionalDetails?.association === 'Others'
                        ? professionalDetails?.association_other
                        : professionalDetails?.association
                      ) | titlecase
                    }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div
            class="section"
            *ngIf="professionalDetails?.player_type !== 'grassroot'"
          >
            <h3 class="section-heading mb-0">Former club / academy</h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>
                    {{ professionalDetails?.former_club_academy | titlecase }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="associated mt-2">
            <h3>
              Currently associated with club / academy :
            </h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>
                    {{
                      professionalDetails?.associated_club_academy | titlecase
                    }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <ng-container
            *ngIf="professionalDetails?.associated_club_academy === 'yes'"
          >
            <h3 class="mt-1 mb-1">Head coach details</h3>
            <div class="view-details">
              <div class="details">
                <div class="left">
                  <h4>Name</h4>
                </div>
                <div class="right">
                  <p>
                    {{
                      professionalDetails?.club_academy_details
                        ?.head_coache_name
                    }}
                  </p>
                </div>
              </div>
            </div>
            <div class="view-details">
              <div class="details">
                <div class="left">
                  <h4>Mobile number</h4>
                </div>
                <div class="right">
                  <p>
                    {{
                      professionalDetails?.club_academy_details
                        ?.head_coache_phone
                    }}
                  </p>
                </div>
              </div>
            </div>
            <div class="view-details">
              <div class="details">
                <div class="left">
                  <h4>Email</h4>
                </div>
                <div class="right">
                  <p class="email">
                    {{
                      professionalDetails?.club_academy_details
                        ?.head_coache_email
                    }}
                  </p>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
      </ng-container>
    </ng-container>

    <ng-container *ngIf="member_type === 'coach'">
      <ng-container *ngIf="viewMode; else editMode">
        <div class="heading">
          <h2>Professional details</h2>

          <button (click)="toggleMode()">
            <mat-icon class="material-icons">create</mat-icon>
          </button>
        </div>

        <div class="second-section">
          <!-- row -->
          <div class="section">
            <h3 class="section-heading">
              Current Role
            </h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>
                    {{ professionalDetails?.current_role | titlecase }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <h3 class="section-heading mb-0">
              Academy/Club Name
            </h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>{{ professionalDetails?.academy_name | titlecase }}</p>
                </div>
              </div>
            </div>
          </div>

          <div class="section mb-1">
            <h3 class="section-heading mb-0">
              Years of coaching Experience
            </h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>{{ professionalDetails?.year_of_exp | titlecase }}</p>
                </div>
              </div>
            </div>
          </div>

          <div class="section">
            <h3 class="section-heading mb-0">
              Coaching Certifications
              <p>{{ professionalDetails.coache_certificate }}</p>
            </h3>
          </div>

          <div class="section">
            <h3 class="section-heading mb-0">Area of specialization</h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>
                    {{ professionalDetails?.area_of_spec | titlecase }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- <div class="section">
            <h3 class="section-heading mb-0">Previous coaching Experience</h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>
                    {{ professionalDetails?.former_club_academy | titlecase }}
                  </p>
                </div>
              </div>
            </div>
          </div>
-->
          <!--    <div class="associated mt-2">
            <h3>
              coacheing Philosophy
              <span>
                {{ professionalDetails?.associated_club_academy | titlecase }}
              </span>
            </h3>
          </div>
-->
          <div class="associated mt-2">
            <h3>
              Languages Spoken
              <p>
                {{ professionalDetails?.language | titlecase }}
              </p>
            </h3>
          </div>

          <div class="associated mt-2">
            <h3>
              Preferred Training Style
              <p>
                {{ professionalDetails?.traning_style | titlecase }}
              </p>
            </h3>
          </div>
          <ng-container
            *ngIf="professionalDetails?.associated_club_academy === 'yes'"
          >
            <h3 class="mt-1 mb-1">Head coache details</h3>
            <div class="view-details">
              <div class="details">
                <div class="left">
                  <h4>Name</h4>
                </div>
                <div class="right">
                  <p>
                    {{
                      professionalDetails?.club_academy_details
                        ?.head_coache_name
                    }}
                  </p>
                </div>
              </div>
            </div>
            <div class="view-details">
              <div class="details">
                <div class="left">
                  <h4>Mobile number</h4>
                </div>
                <div class="right">
                  <p>
                    {{
                      professionalDetails?.club_academy_details
                        ?.head_coache_phone
                    }}
                  </p>
                </div>
              </div>
            </div>
            <div class="view-details">
              <div class="details">
                <div class="left">
                  <h4>Email</h4>
                </div>
                <div class="right">
                  <p class="email">
                    {{
                      professionalDetails?.club_academy_details
                        ?.head_coache_email
                    }}
                  </p>
                </div>
              </div>
            </div>
          </ng-container>
        </div>
      </ng-container>
    </ng-container>

    <ng-container *ngIf="member_type !== 'player' && member_type !== 'coach'">
      <ng-container *ngIf="viewMode; else editMode">
        <div class="heading">
          <h2>Professional details</h2>
          <button (click)="toggleMode()">
            <mat-icon class="material-icons">create</mat-icon>
          </button>
        </div>

        <!-- Major trophy -->
        <div class="second-section">
          <div class="section">
            <h3 class="section-heading">
              Major trophy wins
            </h3>

            <ng-container *ngIf="professionalDetails?.trophies">
              <div
                class="section-block"
                *ngFor="
                  let trophies of professionalDetails.trophies;
                  let i = index
                "
              >
                <span class="count">{{ i + 1 }}.</span>
                <div class="info-listing">
                  <div class="full">
                    <div class="left">
                      <h4>Trophy name</h4>
                    </div>
                    <div class="right">
                      <p>{{ trophies.name }}</p>
                    </div>
                  </div>
                  <div class="full">
                    <div class="left">
                      <h4>Year</h4>
                    </div>
                    <div class="right">
                      <p>{{ trophies.year }}</p>
                    </div>
                  </div>
                  <div class="full">
                    <div class="left">
                      <h4>Position secured</h4>
                    </div>
                    <div class="right">
                      <p>{{ trophies.position }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
          </div>
          <!-- League name   -->
          <div class="section">
            <h3 class="section-heading">
              League name
            </h3>

            <div class=" section-block">
              <div
                class="full"
                *ngIf="
                  professionalDetails?.league !== 'Other';
                  else otherLeague
                "
              >
                <div class="left">
                  <h4>League name</h4>
                </div>
                <div class="right">
                  <p>{{ professionalDetails?.league | titlecase }}</p>
                </div>
                <ng-template #otherLeague>
                  <div class="right">
                    <p>{{ professionalDetails?.league_other | titlecase }}</p>
                  </div>
                </ng-template>
              </div>
            </div>
          </div>

          <!-- top signings -->
          <div class="section">
            <h3 class="section-heading">
              Top signings
            </h3>
            <ng-container *ngIf="professionalDetails?.top_signings">
              <div class="section-block">
                <div
                  class="third"
                  *ngFor="
                    let signings of professionalDetails.top_signings;
                    let i = index
                  "
                >
                  <p>
                    <span>{{ i + 1 }}.</span> {{ signings.name }}
                  </p>
                </div>
              </div>
            </ng-container>
          </div>

          <!-- League name   -->
          <div class="section">
            <h3 class="section-heading mb-0">Type of {{ member_type }}</h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>{{ professionalDetails?.type }}</p>
                </div>
              </div>
            </div>
          </div>

          <!-- State association affiliated under   -->
          <div class="section">
            <h3 class="section-heading mb-0">
              State association affiliated under
              {{
                professionalDetails?.association === 'Others' ? '(Other)' : ''
              }}
            </h3>
            <div class="section-block">
              <div class="full">
                <div class="right">
                  <p>
                    {{
                      (professionalDetails?.association === 'Others'
                        ? professionalDetails?.association_other
                        : professionalDetails?.association
                      ) | titlecase
                    }}
                  </p>
                </div>
              </div>
            </div>
          </div>
          <!-- Contact details -->
          <div class="section">
            <h3 class="section-heading">
              Contact details
            </h3>

            <ng-container *ngIf="professionalDetails?.contact_person">
              <div
                class="section-block"
                *ngFor="
                  let person of professionalDetails.contact_person;
                  let i = index
                "
              >
                <span class="count">{{ i + 1 }}.</span>
                <div class="contact-listing">
                  <div class="half">
                    <div class="left">
                      <h4>Name</h4>
                    </div>
                    <div class="right">
                      <p>{{ person?.name }}</p>
                    </div>
                  </div>
                  <div class="half">
                    <div class="left">
                      <h4>Designation</h4>
                    </div>
                    <div class="right">
                      <p>{{ person?.designation }}</p>
                    </div>
                  </div>
                  <div class="half">
                    <div class="left">
                      <h4>Email address</h4>
                    </div>
                    <div class="right">
                      <p matTooltip="{{ person?.email }}">
                        {{
                          person?.email.length < 22
                            ? person?.email
                            : (person?.email | slice: 0:22) + '...'
                        }}
                      </p>
                    </div>
                  </div>
                  <div class="half">
                    <div class="left">
                      <h4>Contact number</h4>
                    </div>
                    <div class="right">
                      <p>
                        {{
                          person?.mobile_number
                            ? '+91 ' + person?.mobile_number
                            : ''
                        }}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
          </div>
        </div>
      </ng-container>
    </ng-container>

    <!-- editwrapper -->
    <ng-template #editMode>
      <div class="edit-wrapper" *ngIf="member_type === 'coach'">
        <form [formGroup]="professionalDetailsForm">
          <div class="heading">
            <h2>Professional details</h2>
          </div>

          <div class="second-section">
            <h3>Current Role</h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <select
                    formControlName="current_role"
                    matNativeControl
                    required
                    (change)="onSelectNewRole($event)"
                  >
                    <option value="">Select Current Role</option>

                    <option
                      *ngFor="let data of coache_role_array"
                      [value]="data.value"
                    >
                      {{ data.name }}</option
                    >
                  </select>
                </div>
              </div>
            </div>

            <div class="input-container" *ngIf="default === true">
              <div class="third">
                <h3>Enter New Role</h3>
                <div class="form-block">
                  <input
                    formControlName="other_current_role"
                    placeholder="Enter Role"
                    type="text"
                    value=""
                    (change)="onUpdateNewRole($event)"
                  />
                </div>
              </div>
            </div>

            <h3>Academy/Club Name <span class="asterisk">*</span></h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <input
                    formControlName="academy_name"
                    placeholder="Academy/Club Name"
                    type="text"
                    value=""
                  />
                </div>
              </div>
            </div>

            <h3>Years of coaching Experience</h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <input
                    formControlName="year_of_exp"
                    placeholder="Years of coaching Experience"
                    type="text"
                    value=""
                  />
                </div>
              </div>
            </div>

            <h3>coaching Certifications</h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <input
                    formControlName="coache_certificate"
                    placeholder="coaching Certifications"
                    type="text"
                    value=""
                  />
                </div>
              </div>
            </div>
            <h3>Area of Specialization <span class="asterisk">*</span></h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <select
                    formControlName="area_of_spec"
                    matNativeControl
                    required
                    (change)="onSelectNewSpecilisation($event)"
                  >
                    <option value="">Select Area of Specialization</option>

                    <option
                      *ngFor="let association of area_of_specialization_Array"
                      [value]="association.value"
                    >
                      {{ association.name }}</option
                    >
                  </select>
                </div>
              </div>
            </div>
            <div class="input-container" *ngIf="default1 === true">
              <div class="third">
                <h3>Enter New Specialization</h3>
                <div class="form-block">
                  <input
                    formControlName="other_specilisation"
                    placeholder="Enter Specialization"
                    type="text"
                    value=""
                    (change)="onUpdateNewSpecilisation($event)"
                  />
                </div>
              </div>
            </div>
            <!--    <h3>coacheing Philosophy <span class="asterisk">*</span></h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <input
                    formControlName="coacheing_philo"
                    placeholder="coacheing Philosophy"
                    type="textarea"
                    value=""
                  />
                </div>
              </div>
            </div>
-->
            <h3>Languages Spoken <span class="asterisk">*</span></h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <select formControlName="language" matNativeControl required>
                    <option value="">Select Language</option>

                    <option
                      *ngFor="let association of lanuage_spoken_Array"
                      [value]="association.value"
                    >
                      {{ association.name }}</option
                    >
                  </select>
                </div>
              </div>
            </div>

            <h3>Preferred Training Style <span class="asterisk">*</span></h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <select
                    formControlName="traning_style"
                    matNativeControl
                    required
                    (change)="onSelectNewTraningStyle($event)"
                  >
                    <option value="">Select association</option>

                    <option
                      *ngFor="let association of preferred_traning_style_Array"
                      [value]="association.value"
                    >
                      {{ association.name }}</option
                    >
                  </select>
                </div>
              </div>
            </div>
            <div class="input-container" *ngIf="default2 === true">
              <div class="third">
                <h3>Enter New Traning Style</h3>
                <div class="form-block">
                  <input
                    formControlName="other_traning_style"
                    placeholder="Enter Traning Style"
                    type="text"
                    value=""
                    (change)="onUpdateNewSpecilisation($event)"
                  />
                </div>
              </div>
            </div>
            <div class="actions mt-2 mb-2">
              <div class="btn-group">
                <button (click)="toggleMode()" class="btn-normal">
                  Cancel
                </button>
                <button (click)="editProfessionalDetails()" class="btn-active">
                  Save Changes
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>

      <div class="edit-wrapper" *ngIf="member_type === 'player'">
        <form [formGroup]="professionalDetailsForm">
          <div class="heading">
            <h2>Professional details</h2>
          </div>

          <div class="second-section">
            <h3>Preferred playing position</h3>
            <div class="input-container">
              <ng-container
                formArrayName="position"
                *ngFor="
                  let data of professionalDetailsForm.get('position')[
                    'controls'
                  ];
                  let i = index
                "
              >
                <div class="third" [formGroupName]="i">
                  <div class="form-block">
                    <label
                      >{{
                        i == 0
                          ? 'First'
                          : i == 1
                          ? 'Second'
                          : i == 2
                          ? 'Third'
                          : ''
                      }}
                      position <span>*</span></label
                    >
                    <select formControlName="id" matNativeControl required>
                      <option value="">Select position</option>

                      <option
                        *ngFor="let position of positionArray"
                        [value]="position.id"
                        >{{ position.name }}</option
                      >
                    </select>
                    <mat-error
                      class="error-text"
                      *ngIf="
                        professionalDetailsForm
                          .get('position')
                          ['controls'][i].get('id').invalid &&
                        professionalDetailsForm
                          .get('position')
                          ['controls'][i].get('id').touched
                      "
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm
                            .get('position')
                            ['controls'][i].get('id')
                            .hasError('required')
                        "
                        translate
                        >{{
                          i == 0
                            ? 'First'
                            : i == 1
                            ? 'Second'
                            : i == 2
                            ? 'Third'
                            : ''
                        }}
                        position is required</span
                      >
                    </mat-error>
                  </div>
                </div>
              </ng-container>
            </div>

            <h3>Strong foot <span class="asterisk">*</span></h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <select
                    formControlName="strong_foot"
                    matNativeControl
                    required
                  >
                    <option value="">Select strong foot</option>

                    <option
                      *ngFor="let foot of strongFootArray"
                      [value]="foot.value"
                      >{{ foot.name }}</option
                    >
                  </select>
                  <mat-error
                    class="error-text"
                    *ngIf="
                      professionalDetailsForm.controls.strong_foot.invalid &&
                      professionalDetailsForm.controls.strong_foot.touched
                    "
                  >
                    <span
                      *ngIf="
                        professionalDetailsForm.controls.strong_foot.errors
                          .required
                      "
                      translate
                      >Strong foot is required</span
                    >
                  </mat-error>
                </div>
              </div>
            </div>

            <h3>Weak foot</h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block pb-1">
                  <div class="details">
                    <div class="right">
                      <div class="star-rating">
                        <input
                          formControlName="weak_foot"
                          (click)="
                            professionalDetailsForm.get('weak_foot').value = 5
                          "
                          id="star-5"
                          type="radio"
                          value="5"
                        />
                        <label for="star-5" title="5 stars">
                          <mat-icon class="material-icons"
                            >star_border</mat-icon
                          >
                        </label>
                        <input
                          formControlName="weak_foot"
                          (click)="
                            professionalDetailsForm.get('weak_foot').value = 4
                          "
                          id="star-4"
                          type="radio"
                          value="4"
                        />
                        <label for="star-4" title="4 stars">
                          <mat-icon class="material-icons"
                            >star_border</mat-icon
                          >
                        </label>
                        <input
                          formControlName="weak_foot"
                          (click)="
                            professionalDetailsForm.get('weak_foot').value = 3
                          "
                          id="star-3"
                          type="radio"
                          value="3"
                        />
                        <label for="star-3" title="3 stars">
                          <mat-icon class="material-icons"
                            >star_border</mat-icon
                          >
                        </label>
                        <input
                          formControlName="weak_foot"
                          (click)="
                            professionalDetailsForm.get('weak_foot').value = 2
                          "
                          id="star-2"
                          type="radio"
                          value="2"
                        />
                        <label for="star-2" title="2 stars">
                          <mat-icon class="material-icons"
                            >star_border</mat-icon
                          >
                        </label>
                        <input
                          formControlName="weak_foot"
                          (click)="
                            professionalDetailsForm.get('weak_foot').value = 1
                          "
                          id="star-1"
                          type="radio"
                          value="1"
                        />
                        <label for="star-1" title="1 star">
                          <mat-icon class="material-icons"
                            >star_border</mat-icon
                          >
                        </label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <h3>Current state association <span class="asterisk">*</span></h3>
            <div class="input-container">
              <div class="third">
                <div class="form-block">
                  <select
                    formControlName="association"
                    matNativeControl
                    required
                  >
                    <option value="">Select association</option>

                    <option
                      *ngFor="let data of stateAssociationArray"
                      [value]="data.value"
                    >
                      {{ data.name }}</option
                    >
                  </select>
                  <mat-error
                    class="error-text"
                    *ngIf="
                      professionalDetailsForm.controls.association.invalid &&
                      professionalDetailsForm.controls.association.touched
                    "
                    ><span
                      *ngIf="
                        professionalDetailsForm.controls.association.errors
                          .required
                      "
                      translate
                      >Association is required</span
                    >
                  </mat-error>
                </div>
              </div>
            </div>

            <ng-container
              *ngIf="
                professionalDetailsForm.get('association').value === 'Others'
              "
            >
              <h3>Other state association name</h3>
              <div class="input-container">
                <div class="third">
                  <div class="form-block">
                    <input
                      formControlName="association_other"
                      type="text"
                      matInput
                      autocomplete="off"
                      placeholder="Other state association name"
                      trim="blur"
                    />
                    <mat-error class="error-text"> </mat-error>
                  </div>
                </div>
              </div>
            </ng-container>

            <div class="input-container">
              <div class="full">
                <h3 class="mb-1">
                  Currently associated with club / academy ?
                  <span class="asterisk">*</span>
                </h3>
                <div class=" radio-block">
                  <mat-radio-group
                    formControlName="associated_club_academy"
                    class="example-radio-group"
                  >
                    <mat-radio-button value="yes">
                      Yes
                    </mat-radio-button>
                    <mat-radio-button value="no">
                      No
                    </mat-radio-button>
                  </mat-radio-group>
                </div>
              </div>
            </div>

            <ng-container
              *ngIf="
                professionalDetailsForm.get('associated_club_academy').value ===
                'yes'
              "
            >
              <h3>Head coach</h3>
              <div class="input-container">
                <div class="third">
                  <div class="form-block">
                    <label>Name<span>*</span></label>
                    <input
                      formControlName="head_coache_name"
                      type="text"
                      matInput
                      autocomplete="off"
                      required
                      placeholder="Name"
                      trim="blur"
                    />
                    <mat-error
                      class="error-text"
                      *ngIf="
                        professionalDetailsForm.controls.head_coache_name
                          .invalid &&
                        professionalDetailsForm.controls.head_coache_name
                          .touched
                      "
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.head_coache_name
                            .errors.required
                        "
                        translate
                        >Head coach name is required
                      </span>
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.head_coache_name
                            .errors.pattern
                        "
                        translate
                        >Head coach name format is invalid
                      </span>
                    </mat-error>
                  </div>
                </div>
                <div class="third">
                  <div class="form-block">
                    <label>Mobile number<span>*</span></label>
                    <div class="phone-block">
                      <div class="country-code">
                        <select disabled>
                          <option>+91</option>
                        </select>
                      </div>
                      <div class="phone-number">
                        <input
                          formControlName="head_coache_phone"
                          type="text"
                          matInput
                          autocomplete="off"
                          required
                          placeholder="Mobile number"
                          trim="blur"
                        />
                      </div>
                    </div>
                    <mat-error
                      class="error-text"
                      *ngIf="
                        professionalDetailsForm.controls.head_coache_phone
                          .invalid &&
                        professionalDetailsForm.controls.head_coache_phone
                          .touched
                      "
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.head_coache_phone
                            .errors.required
                        "
                        translate
                        >Head coach phone is required</span
                      >
                      <ng-template #lengthBlock>
                        <span
                          *ngIf="
                            professionalDetailsForm.controls.head_coache_phone
                              .errors.minlength
                          "
                        >
                          Please provide number upto
                          {{
                            professionalDetailsForm.controls.head_coache_phone
                              .errors.minlength.requiredLength
                          }}
                          digits
                        </span>
                        <span
                          *ngIf="
                            professionalDetailsForm.controls.head_coache_phone
                              .errors.maxlength
                          "
                        >
                          Please provide number upto
                          {{
                            professionalDetailsForm.controls.head_coache_phone
                              .errors.maxlength.requiredLength
                          }}
                          digits
                        </span>
                      </ng-template>
                      <span
                        translate
                        class="error-text"
                        *ngIf="
                          professionalDetailsForm.controls.head_coache_phone
                            .errors.pattern;
                          else lengthBlock
                        "
                      >
                        Phone number format is invalid
                      </span>
                    </mat-error>
                  </div>
                </div>
                <div class="third">
                  <div class="form-block">
                    <label>Email address</label>
                    <input
                      formControlName="head_coache_email"
                      type="email"
                      matInput
                      autocomplete="off"
                      placeholder="Email"
                      trim="blur"
                    />
                    <mat-error
                      class="error-text"
                      *ngIf="
                        professionalDetailsForm.controls.head_coache_email
                          .invalid &&
                        professionalDetailsForm.controls.head_coache_email
                          .touched
                      "
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.head_coache_email
                            .errors.email
                        "
                        translate
                        >Head coache email format is invalid
                      </span>
                    </mat-error>
                  </div>
                </div>
              </div>
            </ng-container>

            <ng-container
              *ngIf="professionalDetails?.player_type !== 'grassroot'"
            >
              <h3>Former club / academy</h3>
              <div class="input-container">
                <div class="third">
                  <div class="form-block">
                    <input
                      formControlName="former_club_academy"
                      type="text"
                      matInput
                      autocomplete="off"
                      placeholder="Former club / academy"
                      trim="blur"
                    />
                    <mat-error class="error-text"> </mat-error>
                  </div>
                </div>
              </div>
            </ng-container>

            <div class="actions mt-2 mb-2">
              <div class="btn-group">
                <button (click)="toggleMode()" class="btn-normal">
                  Cancel
                </button>
                <button
                  [disabled]="!professionalDetailsForm.valid"
                  (click)="editProfessionalDetails()"
                  class="btn-active"
                >
                  Save Changes
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
      <div
        class="edit-wrapper"
        *ngIf="member_type !== 'player' && member_type !== 'coach'"
      >
        <form [formGroup]="professionalDetailsForm">
          <div class="heading">
            <h2>Professional details</h2>
          </div>
          <!-- major trophy wins -->
          <div class="section">
            <h3>
              Major trophy wins
              <span *ngIf="this.member_type === 'academy'">*</span>
            </h3>
            <div class="input-container">
              <div class="icon-btn" *ngIf="trophies.length <= 0">
                <button class="add" (click)="addTrophy()">
                  <mat-icon class="material-icons">add_circle</mat-icon>
                </button>
              </div>
            </div>
            <div
              class="input-container"
              *ngFor="
                let trophy of professionalDetailsForm.get('trophies').controls;
                let i = index;
                let first = first;
                let last = last
              "
              formArrayName="trophies"
            >
              <ng-container [formGroupName]="i">
                <div class="fourth">
                  <div class="form-block">
                    <label>Trophy name <span>*</span> </label>
                    <input
                      type="text"
                      matinput
                      placeholder="Trophy Name"
                      formControlName="name"
                      trim="blur"
                    />
                    <mat-error
                      *ngIf="
                        professionalDetailsForm.controls.trophies.controls[
                          i
                        ].get('name').invalid &&
                        professionalDetailsForm.controls.trophies.controls[
                          i
                        ].get('name').touched
                      "
                      class="error-text"
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.trophies.controls[i]
                            .get('name')
                            .hasError('required')
                        "
                        translate
                        >Name is required</span
                      >
                    </mat-error>
                  </div>
                </div>

                <div class="fourth">
                  <div class="form-block">
                    <label>Year <span>*</span> </label>
                    <input
                      type="text"
                      matinput
                      placeholder="Year"
                      formControlName="year"
                    />
                    <mat-error
                      *ngIf="
                        professionalDetailsForm.controls.trophies.controls[
                          i
                        ].get('year').invalid &&
                        professionalDetailsForm.controls.trophies.controls[
                          i
                        ].get('year').touched
                      "
                      class="error-text"
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.trophies.controls[i]
                            .get('year')
                            .hasError('required');
                          else charBlock
                        "
                        translate
                        >Year is required</span
                      >
                      <ng-template #charBlock>
                        <span
                          *ngIf="
                            professionalDetailsForm.controls.trophies.controls[
                              i
                            ]
                              .get('year')
                              .hasError('maxlength') ||
                              professionalDetailsForm.controls.trophies.controls[
                                i
                              ]
                                .get('year')
                                .hasError('minlength');
                            else patternBlock
                          "
                          translate
                        >
                          Year length must be equal to 4
                        </span>
                      </ng-template>
                      <ng-template #patternBlock>
                        <span
                          *ngIf="
                            professionalDetailsForm.controls.trophies.controls[
                              i
                            ]
                              .get('year')
                              .hasError('pattern');
                            else maxBlock
                          "
                          translate
                        >
                          Year format is invalid
                        </span>
                      </ng-template>
                      <ng-template #maxBlock>
                        <span
                          *ngIf="
                            professionalDetailsForm.controls.trophies.controls[
                              i
                            ]
                              .get('year')
                              .hasError('max')
                          "
                          translate
                        >
                          Year cannot be greater than current year
                        </span>
                      </ng-template>
                    </mat-error>
                  </div>
                </div>

                <div class="fourth">
                  <div class="form-block">
                    <label>Position secured <span>*</span> </label>
                    <input
                      type="text"
                      matinput
                      placeholder="Position secured"
                      formControlName="position"
                      trim="blur"
                    />
                    <mat-error
                      *ngIf="
                        professionalDetailsForm.controls.trophies.controls[
                          i
                        ].get('position').invalid &&
                        professionalDetailsForm.controls.trophies.controls[
                          i
                        ].get('position').touched
                      "
                      class="error-text"
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.trophies.controls[i]
                            .get('position')
                            .hasError('required')
                        "
                        translate
                        >Position is required</span
                      >
                    </mat-error>
                  </div>
                </div>

                <div class="icon-btn">
                  <button
                    *ngIf="!first || first !== last || showRemoveTrophy"
                    class="remove"
                    (click)="removeTrophy(i)"
                  >
                    <mat-icon class="material-icons">remove_circle</mat-icon>
                  </button>
                  <button *ngIf="last" class="add" (click)="addTrophy()">
                    <mat-icon class="material-icons">add_circle</mat-icon>
                  </button>
                </div>
              </ng-container>
            </div>
          </div>

          <!-- League -->
          <div class="section">
            <h3>League <span>*</span></h3>
            <div class="input-container">
              <div class="fourth">
                <div class="form-block">
                  <label>League name <span>*</span></label>
                  <select matNativeControl formControlName="league" required>
                    <option value="">Select league name</option>
                    <ng-container *ngFor="let league of leagueArray">
                      <option value="{{ league.value }}">{{
                        league.name
                      }}</option>
                    </ng-container>
                  </select>
                  <mat-error
                    *ngIf="
                      professionalDetailsForm.controls.league.invalid &&
                      professionalDetailsForm.controls.league.touched
                    "
                    class="error-text"
                  >
                    <span
                      *ngIf="
                        professionalDetailsForm.controls.league.errors.required
                      "
                      translate
                      >League is required</span
                    >
                  </mat-error>
                </div>
              </div>

              <div
                class="fourth"
                *ngIf="
                  professionalDetailsForm.controls.league.value === 'Other'
                "
              >
                <div class="form-block">
                  <label>Other</label>
                  <input
                    type="text"
                    matinput
                    placeholder="Other"
                    formControlName="league_other"
                    trim=""
                  />
                  <mat-error
                    *ngIf="
                      professionalDetailsForm.controls.league_other.invalid &&
                      professionalDetailsForm.controls.league_other.touched
                    "
                    class="error-text"
                  >
                    <span
                      *ngIf="
                        professionalDetailsForm.controls.league_other.errors
                          .pattern
                      "
                      translate
                      >Other league format is invalid</span
                    >
                  </mat-error>
                </div>
              </div>
            </div>
          </div>

          <!-- Top signings -->
          <div class="section">
            <h3>Top signings</h3>
            <div class="input-container">
              <div class="icon-btn" *ngIf="top_signings.length <= 0">
                <button class="add" (click)="addTopSigning()">
                  <mat-icon class="material-icons">add_circle</mat-icon>
                </button>
              </div>
            </div>
            <div class="input-container" formArrayName="top_signings">
              <ng-container
                *ngFor="
                  let top_signing of professionalDetailsForm.get('top_signings')
                    .controls;
                  let i = index;
                  let first = first;
                  let last = last
                "
              >
                <div class="two-fifth" [formGroupName]="i">
                  <div class="wrapper-field">
                    <div class="field">
                      <div class="form-block">
                        <label>Name </label>
                        <input
                          type="text"
                          matinput
                          placeholder="Name"
                          formControlName="name"
                          trim="blur"
                        />
                        <mat-error
                          *ngIf="
                            professionalDetailsForm.controls.top_signings.controls[
                              i
                            ].get('name').invalid &&
                            professionalDetailsForm.controls.top_signings.controls[
                              i
                            ].get('name').touched
                          "
                          class="error-text"
                        >
                          <span
                            *ngIf="
                              professionalDetailsForm.controls.top_signings.controls[
                                i
                              ]
                                .get('name')
                                .hasError('required')
                            "
                            translate
                            >Name is required</span
                          >
                        </mat-error>
                      </div>
                    </div>
                    <div class="icon-btn">
                      <button class="remove" (click)="removeTopSigning(i)">
                        <mat-icon class="material-icons"
                          >remove_circle</mat-icon
                        >
                      </button>
                      <button
                        *ngIf="last"
                        class="add"
                        (click)="addTopSigning()"
                      >
                        <mat-icon class="material-icons">add_circle</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
              </ng-container>
            </div>
          </div>

          <!--  -->
          <div class="section">
            <div class="input-container">
              <div class="w-35">
                <div class="form-block">
                  <label>
                    <h3>
                      Type of {{ member_type }}
                      <span>*</span>
                    </h3>
                  </label>
                  <select matNativeControl formControlName="type" required>
                    <ng-container *ngFor="let type of clubAcadTypeArray">
                      <option value="{{ type.value }}">{{ type.name }}</option>
                    </ng-container>
                  </select>
                  <mat-error
                    *ngIf="
                      professionalDetailsForm.controls.type.invalid &&
                      professionalDetailsForm.controls.type.touched
                    "
                    class="error-text"
                  >
                    <span
                      [innerText]="
                        member_type === 'club'
                          ? 'Type of club is required'
                          : 'Type of academy is required'
                      "
                      *ngIf="
                        professionalDetailsForm.controls.type.errors.required
                      "
                      translate
                      >Type of club is required</span
                    >
                  </mat-error>
                </div>
              </div>
              <div class="w-35">
                <div class="form-block">
                  <label>
                    <h3>
                      State association affiliated under
                      <span>*</span>
                    </h3>
                  </label>
                  <select
                    matNativeControl
                    formControlName="association"
                    required
                  >
                    <option value="">Select association</option>
                    <ng-container
                      *ngFor="let association of stateAssociationArray"
                    >
                      <option value="{{ association.value }}">{{
                        association.name
                      }}</option>
                    </ng-container>
                  </select>
                  <mat-error
                    *ngIf="
                      professionalDetailsForm.controls.association.invalid &&
                      professionalDetailsForm.controls.association.touched
                    "
                    class="error-text"
                  >
                    <span
                      *ngIf="
                        professionalDetailsForm.controls.association.errors
                          .required
                      "
                      translate
                      >Association is required</span
                    >
                  </mat-error>
                </div>
              </div>
              <ng-container
                *ngIf="
                  professionalDetailsForm.get('association').value === 'Others'
                "
              >
                <div class="two-fifth">
                  <div class="form-block">
                    <label>
                      <h3>Other association name</h3>
                    </label>
                    <input
                      formControlName="association_other"
                      type="text"
                      matInput
                      autocomplete="off"
                      placeholder="Other association name"
                      trim="blur"
                    />
                  </div>
                </div>
              </ng-container>
            </div>
          </div>

          <!-- Contact detials -->
          <div class="section">
            <h3>Contact details <span> *</span></h3>
            <div
              class="input-container"
              *ngFor="
                let contact of professionalDetailsForm.get('contact_person')
                  .controls;
                let i = index;
                let first = first;
                let last = last
              "
              formArrayName="contact_person"
            >
              <ng-container [formGroupName]="i">
                <div class="third">
                  <div class="form-block">
                    <label>Designation <span>*</span> </label>
                    <select
                      formControlName="designation"
                      matNativeControl
                      required
                    >
                      <option value="">Select designation</option>
                      <ng-container
                        *ngFor="let designation of designationArray"
                      >
                        <option value="{{ designation.value }}">{{
                          designation.name
                        }}</option>
                      </ng-container>
                    </select>
                    <mat-error
                      *ngIf="
                        professionalDetailsForm.controls.contact_person.controls[
                          i
                        ].get('designation').invalid &&
                        professionalDetailsForm.controls.contact_person.controls[
                          i
                        ].get('designation').touched
                      "
                      class="error-text"
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.contact_person.controls[
                            i
                          ]
                            .get('designation')
                            .hasError('required')
                        "
                        translate
                        >Designation is required</span
                      >
                    </mat-error>
                  </div>
                </div>

                <div class="third">
                  <div class="form-block">
                    <label>Name <span>*</span></label>
                    <input
                      type="text"
                      matinput
                      placeholder="Name"
                      formControlName="name"
                      trim="blur"
                    />
                    <mat-error
                      *ngIf="
                        professionalDetailsForm.controls.contact_person.controls[
                          i
                        ].get('name').invalid &&
                        professionalDetailsForm.controls.contact_person.controls[
                          i
                        ].get('name').touched
                      "
                      class="error-text"
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.contact_person.controls[
                            i
                          ]
                            .get('name')
                            .hasError('required')
                        "
                        translate
                        >Name is required</span
                      >
                    </mat-error>
                  </div>
                </div>

                <div class="third">
                  <div class="form-block">
                    <label>Email <span>*</span> </label>
                    <input
                      type="text"
                      matinput
                      placeholder="Email"
                      formControlName="email"
                    />
                    <mat-error
                      *ngIf="
                        professionalDetailsForm.controls.contact_person.controls[
                          i
                        ].get('email').invalid &&
                        professionalDetailsForm.controls.contact_person.controls[
                          i
                        ].get('email').touched
                      "
                      class="error-text"
                    >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.contact_person.controls[
                            i
                          ]
                            .get('email')
                            .hasError('required')
                        "
                        translate
                        >Email is required</span
                      >
                      <span
                        *ngIf="
                          professionalDetailsForm.controls.contact_person.controls[
                            i
                          ]
                            .get('email')
                            .hasError('email')
                        "
                        translate
                        >Email format is invalid</span
                      >
                    </mat-error>
                  </div>
                </div>

                <div class="third">
                  <div class="form-block">
                    <label>Mobile number<span>*</span></label>
                    <div class="phone-block">
                      <div class="country-code">
                        <select disabled>
                          <option>+91</option>
                        </select>
                      </div>
                      <div class="phone-number">
                        <input
                          type="text"
                          matInput
                          autocomplete="off"
                          required
                          placeholder="Mobile number"
                          formControlName="mobile_number"
                        />
                        <mat-error
                          *ngIf="
                            professionalDetailsForm.controls.contact_person.controls[
                              i
                            ].get('mobile_number').invalid &&
                            professionalDetailsForm.controls.contact_person.controls[
                              i
                            ].get('mobile_number').touched
                          "
                          class="error-text"
                        >
                          <span
                            *ngIf="
                              professionalDetailsForm.controls.contact_person.controls[
                                i
                              ]
                                .get('mobile_number')
                                .hasError('required')
                            "
                            translate
                            >Mobile number is required</span
                          >
                          <ng-template #lengthBlock>
                            <span
                              *ngIf="
                                professionalDetailsForm.controls.contact_person.controls[
                                  i
                                ]
                                  .get('mobile_number')
                                  .hasError('minlength')
                              "
                            >
                              Please provide number upto
                              {{
                                professionalDetailsForm.controls.contact_person.controls[
                                  i
                                ].get('mobile_number').errors.minlength
                                  .requiredLength
                              }}
                              digits
                            </span>
                            <span
                              *ngIf="
                                professionalDetailsForm.controls.contact_person.controls[
                                  i
                                ]
                                  .get('mobile_number')
                                  .hasError('maxlength')
                              "
                            >
                              Please provide number upto
                              {{
                                professionalDetailsForm.controls.contact_person.controls[
                                  i
                                ].get('mobile_number').errors.maxlength
                                  .requiredLength
                              }}
                              digits
                            </span>
                          </ng-template>
                          <span
                            *ngIf="
                              professionalDetailsForm.controls.contact_person.controls[
                                i
                              ]
                                .get('mobile_number')
                                .hasError('pattern');
                              else lengthBlock
                            "
                          >
                            Mobile number format is invalid
                          </span>
                        </mat-error>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="icon-btn">
                  <button
                    class="remove"
                    *ngIf="!first || first !== last"
                    (click)="removeContactPerson(i)"
                  >
                    <mat-icon class="material-icons">remove_circle</mat-icon>
                  </button>
                  <button *ngIf="last" class="add" (click)="addContactPerson()">
                    <mat-icon class="material-icons">add_circle</mat-icon>
                  </button>
                </div>
              </ng-container>
            </div>
          </div>

          <div class="actions mt-2 mb-2">
            <div class="btn-group">
              <button (click)="toggleMode()" class="btn-normal">
                Cancel
              </button>
              <button
                [disabled]="!professionalDetailsForm.valid"
                (click)="editProfessionalDetails()"
                class="btn-active"
              >
                Save Changes
              </button>
            </div>
          </div>
        </form>
      </div>
    </ng-template>
  </div>
</div>
